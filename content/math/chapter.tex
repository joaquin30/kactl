% This is the LaTeX file for the chapter "Useful mathematical identities" in KACTL (KTH ACM Contest Template Library)
% Written by Anders Sjoqvist and Ulf Lundstrom, 2009
% The main sources are: tinyKACTL, Beta and Wikipedia

\chapter{Useful mathematical identities}

\section{Equations}
$$\begin{aligned}ax+by=c\\cx+dy=f\end{aligned}
\Rightarrow
\begin{aligned}x=\dfrac{ed-bf}{ad-bc}\\y=\dfrac{af-ec}{ad-bc}\end{aligned}$$

$$ax^2+bx+c=0 \Rightarrow x = -\frac{b}{2a}\pm\sqrt{\frac{b^2}{4a^2}-\frac{c}{a}}$$

\section{Trigonometry}
\begin{align*}
\sin(v+w)&{}=\sin v\cos w+\cos v\sin w\\
cos(v+w)&{}=\cos v\cos w-\sin v\sin w\\
\tan(v+w)&{}=\dfrac{\tan v+\tan w}{1-\tan v\tan w}\\
\sin v+\sin w&{}=2\sin\dfrac{v+w}{2}\cos{v-w}{2}\\
\cos v+\cos w&{}=2\cos\dfrac{v+w}{2}\cos{v-w}{2}\\
(V+W)\tan(v-w)/2&{}=(V-W)\tan(v+w)/2
\end{align*}
where $V$ is the length of the side opposite the angle $v$, and
similar for $W$.

\begin{align*}
\begin{cases}
a\cos x+b\sin x=r\cos(x-\phi)\\
a\sin x+b\cos x=r\sin(x+\phi)
\end{cases}
\end{align*}
where $r=\sqrt{a^2+b^2}, \phi=\operatorname{atan2}(b,a)$.

\begin{center}
\begin{tabular}{|l|l|l|l|}
\hline
$\phi$ & $\sin\phi$ & $\cos\phi$ & $\tan\phi$ \\
\hline
$0 = 0^\circ$ & $0$ & $1$ & $0$\\
\hline
$\pi/6 = 30^\circ$ & $1/2$ & $\sqrt3/2$ & $1/\sqrt3$\\
\hline
$\pi/4 = 45^\circ$ & $1/\sqrt2$ & $1/\sqrt2$ & $1$\\
\hline
$\pi/3 = 60^\circ$ & $\sqrt3/2$ & $1/2$ & $\sqrt3$\\
\hline
$\pi/2 = 90^\circ$ & $1$ & $0$ & --\\
\hline
\end{tabular}
\end{center}

\section{Spherical trigonometry}
$a,b,c=\text{sides}$, $\alpha,\beta,\gamma=\text{angles}$, all
six\ldots \emph{NOT DONE YET}
\begin{align*}
\cos a&{}=\cos b \cos c + \sin b \sin c \cos \alpha\\
\cos \alpha&{}=-\cos\beta \cos\gamma + \sin\beta\sin\gamma\cos a\\
\sin \alpha/\sin a&{}=\sin\beta/\sin b=\sin\gamma/\sin c
\end{align*}

\section{Geometry}

\subsection{Triangles}
Side lengths: $a,b,c$\\
Semiperimeter: $p=\dfrac{a+b+c}{2}$\\
Area: $A=\sqrt{p(p-a)(p-b)(p-c)}$\\
Circumradius: $R=\dfrac{abc}{4A}$\\
Inradius: $r=\dfrac{A}{p}$\\
Median (divides triangle into two equal-sized triangles): $m_a=\tfrac{1}{2}\sqrt{2b^2+2c^2-a^2}$\\
Bisector (divides angles in two): $s_a=\sqrt{bc\left[1-\left(\dfrac{a}{b+c}\right)^2\right]}$\\
Law of sines: $\dfrac{\sin\alpha}{a}=\dfrac{\sin\beta}{b}=\dfrac{\sin\gamma}{c}=\dfrac{1}{2R}$\\
Law of cosines: $a^2=b^2+c^2-2bc\cos\alpha$\\
Law of tangents: $\dfrac{a+b}{a-b}=\dfrac{\tan\dfrac{\alpha+\beta}{2}}{\tan\dfrac{\alpha-\beta}{2}}$\\

\subsection{Quadrilaterals}
Side lengths $a,b,c,d$.\\
Diagonals $e(ad\leftrightarrow bc), f(ab\leftrightarrow cd)$.\\
Diagonals angle $\theta$.\\
Magic flux $F=b^2+d^2-a^2-c^2$.\\
Area $4A=2ef\sin\theta=F\tan\theta=\sqrt{4e^2f^2-F^2}$.

\subsection{Spherical coordinates}
$$\begin{array}{cc}
x = r\sin\theta\cos\phi & r = \sqrt{x^2+y^2+z^2}\\
y = r\sin\theta\sin\phi & \theta = \textrm{acos}(z/\sqrt{x^2+y^2+z^2})\\
z = r\cos\theta & \phi = \textrm{atan2}(y,x)
\end{array}$$

\section{Derivatives/Integrals}
\begin{align*}
\dfrac{d}{dx}\arcsin x = \dfrac{1}{\sqrt{1-x^2}} & \quad
\dfrac{d}{dx}\arccos x = -\dfrac{1}{\sqrt{1-x^2}}\\
\dfrac{d}{dx}\tan x = 1+\tan^2 x & \quad
\dfrac{d}{dx}\arctan x = \dfrac{1}{1+x^2}\\
\int\tan ax = -\dfrac{\ln|\cos ax|}{a} & \quad
\int x\sin ax = \dfrac{\sin ax-ax \cos ax}{a^2}\\
\int \frac{dx}{x} = \ln|x| & \quad
\int xe^{ax}dx = \frac{e^{ax}}{a^2}(ax-1)\\
\end{align*}

Integration by parts:
$$\int_a^bf(x)g(x)dx = [F(x)g(x)]_a^b-\int_a^bF(x)g'(x)dx$$

\section{Series} 
\subsection{Geometric series}
\begin{align*}
\sum_{k=0}^{n-1}x^k &= \frac{x^n-1}{x-1} = \frac{1-x^n}{1-x},\,(x\neq0)\\
\sum_{k=0}^{\infty}x^k &= \frac{1}{1-x},\,(-1<x<1)\\
\end{align*}

\subsection{Sums of powers}
\begin{align*}
\sum_{k=1}^n k &= \frac{n(n+1)}{2}\\
\sum_{k=1}^n k^2 &= \frac{n(n+1)(2n+1)}{6}\\
\sum_{k=1}^n k^3 &= \frac{n^2(n+1)^2}{4}\\
\end{align*}

\subsection{Taylor series}
\begin{align*}
e^x &= 1+x+\frac{x^2}{2!}+\frac{x^3}{3!}+\dots,\,(-\infty<x<\infty)\\
\ln(1+x) &= x-\frac{x^2}{2}+\frac{x^3}{3}-\frac{x^4}{4}+\dots,\,(-1<x\leq1)\\
\sqrt{1+x} &= 1+\frac{x}{2}-\frac{x^2}{8}+\frac{x^3}{16}-\frac{5x^4}{128}+\dots,\,(-1\leq x\leq1)\\
\sin x &= x-\frac{x^3}{3!}+\frac{x^5}{5!}-\frac{x^7}{7!}+\dots,\,(-\infty<x<\infty)\\
\cos x &= 1-\frac{x^2}{2!}+\frac{x^4}{4!}-\frac{x^6}{6!}+\dots,\,(-\infty<x<\infty)\\
\end{align*}

\section{Ceil and floor relations}
$x\in\mathbb R$ and $n,m\in\mathbb Z$.
\begin{align*}
\lfloor x \rfloor = n &\Leftrightarrow n\leq x < n+1\\
\lceil x \rceil = n &\Leftrightarrow n-1< x \leq n\\
-\lfloor x \rfloor & = \lceil -x \rceil\\
-\lceil x \rceil & = \lfloor -x \rfloor\\
\lfloor x\pm n \rfloor & = \lfloor x \rfloor\pm n\\
\lceil x\pm n \rceil & = \lceil x \rceil\pm n\\
\left\lceil \frac nm \right\rceil & = \left\lfloor \frac{n+m-1}{m} \right\rfloor \textrm{ for } m>0\\
\end{align*}

\section{Probability theory}
Let $X$ be a discrete random variable with probability $p_X(x)$ of assuming the value $x$. It will then have an expected value (mean) $\mu=E(X)=\sum_xxp_X(x)$ and variance $\sigma^2=V(X)=E(X^2)-(E(X))^2=\sum_x(x-E(X))^2p_X(x)$ where $\sigma$ is the standard deviation. If $X$ is instead continuous it will have a probability density function $f_X(x)$ and the sums above will instead be integrals with $p_X(x)$ replaced by $f_X(x)$.

For independent random variables $X$ and $Y$ and scalars $a$ and $b$
$$E(aX+bY) = aE(X)+bE(Y),$$
$$V(aX+bY) = a^2V(X)+b^2V(Y).$$

\subsection{Discrete distributions}

\subsubsection{Binomial distribution}
The number of successes in $n$ independent yes/no experiments, each which yields success with probability $p$ is $\textrm{Bin}(n,p),\,n=1,2,\dots,\, 0\leq p\leq1$.
$$p(k)={n\choose k}p^k(1-p)^{n-k}$$
$$\mu = np,\,\sigma^2=np(1-p)$$
$\textrm{Bin}(n,p)$ is approximately $\textrm{Po}(np)$ for small $p$.

\subsubsection{First success distribution}
The number of trials needed to get the first success in independent yes/no experiments, each wich yields success with probability $p$ is $\textrm{Fs}(p),\,0\leq p\leq1$.
$$p(k)=p(1-p)^{k-1},\,k=1,2,\dots$$
$$\mu = \frac1p,\,\sigma^2=\frac{1-p}{p^2}$$

\subsubsection{Poisson distribution}
The number of events occuring in a fixed period of time $t$ if these events occur with a known average rate $\kappa$ and independently of the time since the last event is $\textrm{Po}(\lambda),\,\lambda=t\kappa$.
$$p(k)=e^{-\lambda}\frac{\lambda^k}{k!},',k=0,1,2,\dots$$
$$\mu=\lambda,\,\sigma^2=\lambda$$

\subsection{Continuous distributions}

\subsubsection{Uniform distribution}
If the probability density function is constant between $a$ and $b$ and 0 elsewhere it is $\textrm{U}(a,b),\,a<b$.
$$f(x) = \left\{
\begin{array}{cl}
\frac{1}{b-a} & a<x<b\\
0 & \textrm{otherwise}
\end{array}\right.$$
$$\mu=\frac{a+b}{2},\,\sigma^2=\frac{(b-a)^2}{12}$$

\subsubsection{Exponential distribution}
The time between events in a Poisson process is $\textrm{Exp}(\lambda),\,\lambda>0$.
$$f(x) = \left\{
\begin{array}{cl}
\lambda e^{-\lambda x} & x\geq0\\
0 & x<0
\end{array}\right.$$
$$\mu=\frac{1}{\lambda},\,\sigma^2=\frac{1}{\lambda^2}$$

\subsubsection{Normal distribution}
Most real random values with mean $\mu$ and standard deviation $\sigma$ are well described by $\textrm{N}(\mu,\sigma),\,\sigma>0$.
$$f(x) = \frac{1}{\sqrt{2\pi}\sigma}e^{\frac{(x-\mu)^2}{2\sigma^2}}$$
$$\mu = \mu,\,\sigma^2=\sigma^2$$
